{"version":3,"sources":["../../src/config.js"],"names":["path","require","fs","Config","constructor","loadDefaults","LoggingConfiguration","LOGGER_NAME","FILE_NAME","LOG_TO_STDERR","LOG_LEVEL","PROPAGATE_LOGS","DEBUG","VersionConfiguration","VERSION","COMMIT","DefaultConfiguration","DEFAULT_CONFIG_FILE_NAME","LOAD_FROM_APP_FOLDER","USER_CONFIGURATION_FILE","ErrorConfiguration","STACK_DEPTH","ControllerAddress","HOST","PORT","AgentComConfiguration","BACK_OFF","MAX_SLEEP","MAX_MESSAGE_LENGTH","TIMEOUT","REQUEST_TIMEOUT_SECS","CONNECT_TIMEOUT","PING_TIMEOUT","PING_INTERVAL","RESET_BACKOFF_TIMEOUT","MAX_QUEUED_MESSAGES","OutputConfiguration","FLUSH_TIME_INTERVAL","MAX_ITEMS","MAX_LOG_ITEMS","MAX_STATUS_UPDATES","OutputWsConfiguration","BUCKET_REFRESH_RATE","MAX_AUG_MESSAGES","InstrumentationConfig","ENGINE","MIN_TIME_BETWEEN_HITS_MS","MAX_AUG_TIME","GitConfiguration","GIT_COMMIT","GIT_ORIGIN","config","JSConfig","SOURCE_MAP_SUPPORT","module","exports"],"mappings":"AAAA;;AAIA;;AAFA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAlB;;AAGA,MAAME,MAAN,CAAa;AACTC,EAAAA,WAAW,GAAG;AACV,SAAKC,YAAL;AACH;;AAEDA,EAAAA,YAAY,GAAG;AACX,SAAKC,oBAAL,GAA4B;AACxBC,MAAAA,WAAW,EAAE,MADW;AAExBC,MAAAA,SAAS,EAAE,uBAFa;AAGxBC,MAAAA,aAAa,EAAE,KAHS;AAIxBC,MAAAA,SAAS,EAAE,MAJa;AAKxBC,MAAAA,cAAc,EAAE,KALQ;AAMxBC,MAAAA,KAAK,EAAE;AANiB,KAA5B;AASA,SAAKC,oBAAL,GAA4B;AACxBC,MAAAA,OAAO,UADiB;AAExBC,MAAAA,MAAM;AAFkB,KAA5B;AAKA,SAAKC,oBAAL,GAA4B;AACxBC,MAAAA,wBAAwB,EAAE,qBADF;AAExBC,MAAAA,oBAAoB,EAAE,IAFE;AAGxBC,MAAAA,uBAAuB,EAAE;AAHD,KAA5B;AAMA,SAAKC,kBAAL,GAA0B;AACtBC,MAAAA,WAAW,EAAE;AADS,KAA1B;AAIA,SAAKC,iBAAL,GAAyB;AACrBC,MAAAA,IAAI,EAAE,2BADe;AAErBC,MAAAA,IAAI,EAAE;AAFe,KAAzB;AAKA,SAAKC,qBAAL,GAA6B;AACzBC,MAAAA,QAAQ,EAAE,GADe;AAEzBC,MAAAA,SAAS,EAAE,EAFc;AAGzBC,MAAAA,kBAAkB,EAAE,MAAM,IAAN,GAAa,IAHR;AAIzBC,MAAAA,OAAO,EAAE,CAJgB;AAKzBC,MAAAA,oBAAoB,EAAE,EALG;AAMzBC,MAAAA,eAAe,EAAE,CANQ;AAOzBC,MAAAA,YAAY,EAAE,EAPW;AAQzBC,MAAAA,aAAa,EAAE,EARU;AASzBC,MAAAA,qBAAqB,EAAE,IAAE,EATA;AAUzBC,MAAAA,mBAAmB,EAAE;AAVI,KAA7B;AAaA,SAAKC,mBAAL,GAA2B;AACvBC,MAAAA,mBAAmB,EAAE,IADE;AAEvBC,MAAAA,SAAS,EAAE,EAFY;AAGvBC,MAAAA,aAAa,EAAE,GAHQ;AAIvBC,MAAAA,kBAAkB,EAAE;AAJG,KAA3B;AAOA,SAAKC,qBAAL,GAA6B;AACzBC,MAAAA,mBAAmB,EAAE,EADI;AAEzBC,MAAAA,gBAAgB,EAAE,GAFO;AAGzBJ,MAAAA,aAAa,EAAE,GAHU;AAIzBC,MAAAA,kBAAkB,EAAE;AAJK,KAA7B;AAOA,SAAKI,qBAAL,GAA6B;AACzBC,MAAAA,MAAM,EAAE,MADiB;AAEzBC,MAAAA,wBAAwB,EAAE,GAFD;AAGzBC,MAAAA,YAAY,EAAE;AAHW,KAA7B;AAMA,SAAKC,gBAAL,GAAwB;AACpBC,MAAAA,UAAU,EAAE,IADQ;AAEpBC,MAAAA,UAAU,EAAE;AAFQ,KAAxB;AAIH;;AAxEQ;;AA2Eb,IAAIC,MAAM,GAAG,IAAIhD,MAAJ,EAAb;AAEAgD,MAAM,CAACC,QAAP,GAAkB;AACdC,EAAAA,kBAAkB,EAAE;AADN,CAAlB;AAIAC,MAAM,CAACC,OAAP,GAAiBJ,MAAjB","sourcesContent":["\"use strict\";\r\n\r\nconst path = require('path');\r\nconst fs = require('fs');\r\nimport {getEnv} from \"./utils\";\r\n\r\nclass Config {\r\n    constructor() {\r\n        this.loadDefaults();\r\n    }\r\n\r\n    loadDefaults() {\r\n        this.LoggingConfiguration = {\r\n            LOGGER_NAME: \"rook\",\r\n            FILE_NAME: \"rookout/node-rook.log\",\r\n            LOG_TO_STDERR: false,\r\n            LOG_LEVEL: \"INFO\",\r\n            PROPAGATE_LOGS: false,\r\n            DEBUG: false\r\n        };\r\n\r\n        this.VersionConfiguration = {\r\n            VERSION: AgentVersionInfo.Version,\r\n            COMMIT: AgentVersionInfo.Commit\r\n        };\r\n\r\n        this.DefaultConfiguration = {\r\n            DEFAULT_CONFIG_FILE_NAME: \"rookout-config.json\",\r\n            LOAD_FROM_APP_FOLDER: true,\r\n            USER_CONFIGURATION_FILE: \"rookout/rook-config.json\"\r\n        };\r\n\r\n        this.ErrorConfiguration = {\r\n            STACK_DEPTH: 10,\r\n        };\r\n\r\n        this.ControllerAddress = {\r\n            HOST: \"wss://control.rookout.com\",\r\n            PORT: 443\r\n        };\r\n\r\n        this.AgentComConfiguration = {\r\n            BACK_OFF: 0.3,\r\n            MAX_SLEEP: 60,\r\n            MAX_MESSAGE_LENGTH: 100 * 1024 * 1024,\r\n            TIMEOUT: 2,\r\n            REQUEST_TIMEOUT_SECS: 30,\r\n            CONNECT_TIMEOUT: 2,\r\n            PING_TIMEOUT: 30,\r\n            PING_INTERVAL: 10,\r\n            RESET_BACKOFF_TIMEOUT: 3*60,\r\n            MAX_QUEUED_MESSAGES: 500\r\n        };\r\n\r\n        this.OutputConfiguration = {\r\n            FLUSH_TIME_INTERVAL: 0.25,\r\n            MAX_ITEMS: 40,\r\n            MAX_LOG_ITEMS: 100,\r\n            MAX_STATUS_UPDATES: 100,\r\n        };\r\n\r\n        this.OutputWsConfiguration = {\r\n            BUCKET_REFRESH_RATE: 10,\r\n            MAX_AUG_MESSAGES: 100,\r\n            MAX_LOG_ITEMS: 200,\r\n            MAX_STATUS_UPDATES: 200,\r\n        };\r\n\r\n        this.InstrumentationConfig = {\r\n            ENGINE: \"auto\",\r\n            MIN_TIME_BETWEEN_HITS_MS: 100,\r\n            MAX_AUG_TIME: 400\r\n        };\r\n\r\n        this.GitConfiguration = {\r\n            GIT_COMMIT: null,\r\n            GIT_ORIGIN: null\r\n        }\r\n    }\r\n}\r\n\r\nlet config = new Config();\r\n\r\nconfig.JSConfig = {\r\n    SOURCE_MAP_SUPPORT: true,\r\n};\r\n\r\nmodule.exports = config;\r\n"],"file":"config.js"}